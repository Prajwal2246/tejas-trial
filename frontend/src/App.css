@import "tailwindcss";

/* ===== 1. CORE PERFORMANCE & RESET ===== */
:root {
  --bg-dark: #020617; /* slate-950 */
  --bg-card: #0f172a; /* slate-900 */
}

html {
  /* CRITICAL: 'auto' prevents the scroll-hitching/latency common on mobile */
  scroll-behavior: auto !important; 
  height: -webkit-fill-available;
  -webkit-tap-highlight-color: transparent;
}

body {
  margin: 0;
  padding: 0;
  background-color: var(--bg-dark);
  color: white;
  overflow-x: hidden; 
  width: 100%;
  
  /* Prioritize vertical scrolling and ignore side-jitters */
  touch-action: pan-y;
  -webkit-overflow-scrolling: touch;
  
  /* Prevents the 'rubber-band' effect from locking the UI */
  overscroll-behavior-y: contain;
  
  /* Text smoothing */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ===== 2. CONSOLIDATED HARDWARE ACCELERATION ===== */
/* This block handles entry animations and general smoothness */
.animate-entry, 
.gpu-layer,
.video-tile {
  opacity: 0;
  /* Tell the GPU to prepare these properties */
  will-change: transform, opacity;
  
  /* Force a new compositor layer */
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  perspective: 1000px;
  transform: translate3d(0, 0, 0); 
  
  /* The actual animation */
  animation: fadeInUp 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  
  /* UP-SCROLL FIX: Stops the browser from repainting off-screen cards */
  content-visibility: auto;
  contain-intrinsic-size: 0 100px; 
}

/* ===== 3. MOBILE-SPECIFIC OPTIMIZATIONS ===== */
@media (max-width: 768px) {
  /* High-end blurs cause massive lag during scrolling on mobile GPUs */
  .backdrop-blur-xl, .backdrop-blur-3xl {
    backdrop-filter: blur(8px) !important;
    -webkit-backdrop-filter: blur(8px) !important;
  }

  /* Prevent layout shifts */
  img {
    content-visibility: auto;
  }

  /* Disable hover effects on touch devices to prevent "sticky" states */
  @media (hover: none) {
    .hover\:scale-105:hover,
    .hover\:shadow-xl:hover {
      transform: none !important;
      box-shadow: none !important;
    }
  }
}

/* ===== 4. REFINED ANIMATIONS ===== */
@keyframes fadeInUp {
  from {
    opacity: 0;
    /* Use 3D for better GPU offloading */
    transform: translate3d(0, 20px, 0);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

/* Delay Utilities */
.delay-1 { animation-delay: 100ms; }
.delay-2 { animation-delay: 200ms; }
.delay-3 { animation-delay: 300ms; }

/* ===== 5. UI COMPONENTS (Scrollbars & Helpers) ===== */
::-webkit-scrollbar {
  width: 5px;
}
::-webkit-scrollbar-track {
  background: var(--bg-dark);
}
::-webkit-scrollbar-thumb {
  background: #334155;
  border-radius: 100px;
}

.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.no-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Add a helper for clickable items to avoid "grey box" flash on tap */
* {
  -webkit-tap-highlight-color: transparent;
}